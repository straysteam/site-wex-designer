<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projeto Detalhado - ARQDesign</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        .project-hero { padding: 140px 0 60px; background: #0a0a0a; }
        .project-main-img { width: 100%; border-radius: 20px; border: 1px solid #d4af37; margin-bottom: 40px; object-fit: cover; max-height: 600px; }
        .project-grid-details { display: grid; grid-template-columns: 2fr 1fr; gap: 60px; margin-bottom: 80px; }
        .back-link { color: #d4af37; text-decoration: none; display: flex; align-items: center; gap: 10px; margin-bottom: 30px; font-weight: 600; }
        
        /* Estilo da Galeria */
        .project-gallery { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-top: 40px; }
        .gallery-img { width: 100%; border-radius: 12px; transition: transform 0.3s ease; cursor: pointer; border: 1px solid #333; }
        .gallery-img:hover { transform: scale(1.02); border-color: #d4af37; }
        
        .full-desc { line-height: 1.8; color: #ccc; font-size: 1.1rem; white-space: pre-line; }
        .tech-box { background: #111; padding: 30px; border-radius: 15px; border-left: 4px solid #d4af37; height: fit-content; }
    </style>
</head>
<body>
    <div class="container project-hero">
        <a href="index.html#portfolio" class="back-link"><i data-lucide="arrow-left"></i> Voltar ao Portfólio</a>
        
        <h1 id="p-title" class="section-title" style="text-align: left; font-size: 3rem;">Carregando...</h1>
        
        <img id="p-image" src="" alt="" class="project-main-img">

        <div class="project-grid-details">
            <div class="project-text">
                <h3 style="color: #d4af37; margin-bottom: 20px;">Conceito do Projeto</h3>
                <p id="p-full-description" class="full-desc"></p>
                
                <h3 style="color: #d4af37; margin-top: 60px; margin-bottom: 25px;">Galeria de Imagens</h3>
                <div id="p-gallery" class="project-gallery">
                    </div>
            </div>

            <aside class="tech-box">
                <h4 style="margin-bottom: 20px; text-transform: uppercase; letter-spacing: 1px;">Ficha Técnica</h4>
                <p style="margin-bottom: 15px;"><i data-lucide="calendar" class="icon-small"></i> <strong>Ano:</strong> <span id="p-year"></span></p>
                <p style="margin-bottom: 15px;"><i data-lucide="maximize" class="icon-small"></i> <strong>Área:</strong> <span id="p-area"></span></p>
                <p style="margin-bottom: 15px;"><i data-lucide="tag" class="icon-small"></i> <strong>Categoria:</strong> <span id="p-category"></span></p>
                
                <hr style="border: 0; border-top: 1px solid #333; margin: 30px 0;">
                <p style="font-size: 0.9rem; color: #888;">Interessado em um projeto similar? <br><br>
                <a href="index.html#contact" class="nav-contact" style="display: block; text-align: center;">Solicitar Orçamento</a></p>
            </aside>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const projectId = parseInt(urlParams.get('id'));
        const project = projectsData.find(p => p.id === projectId);

        if (project) {
            document.title = `${project.title} | Wesley Souza Design`;
            document.getElementById('p-title').innerText = project.title;
            document.getElementById('p-image').src = project.image;
            
            // Usa a descrição completa, se não existir usa a curta
            document.getElementById('p-full-description').innerText = project.fullDescription || project.description;
            
            document.getElementById('p-year').innerText = project.year;
            document.getElementById('p-area').innerText = project.area;
            document.getElementById('p-category').innerText = project.category;

            // Carregar Galeria
            const galleryContainer = document.getElementById('p-gallery');
            if (project.gallery && project.gallery.length > 0) {
                project.gallery.forEach(imgUrl => {
                    const img = document.createElement('img');
                    img.src = imgUrl;
                    img.className = 'gallery-img';
                    img.alt = "Detalhe do projeto";
                    galleryContainer.appendChild(img);
                });
            } else {
                galleryContainer.innerHTML = "<p style='color: #666;'>Em breve mais fotos deste projeto.</p>";
            }

            lucide.createIcons();
        } else {
            window.location.href = "index.html"; // Volta se não achar o projeto
        }
    </script>
</body>
</html>